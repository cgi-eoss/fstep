<md-dialog id="item-dialog" aria-label="Create {{item}} dialog">
    <h4>Add {{item}}</h4>
    <md-dialog-content>
        <form name="createServiceForm">
            <div class="dialog-content-area">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Service type</label>
                    <md-select ng-model="newItem.serviceType" ng-change="resetServiceFrom()" md-autofocus aria-label="Service Type" required>
                        <md-option ng-repeat="type in serviceTypes" ng-value="type.value">
                            {{type.name}}
                        </md-option>
                    </md-select>
                </md-input-container>
                <br>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>From service</label>
                    <md-select ng-model="newItem.fromService" aria-label="Service template" md-on-open="updateServicesForType()" required>
                        <md-option ng-value="'none'">None</md-option>
                        <md-option ng-repeat="service in servicesForType[newItem.serviceType]" ng-value="service.id">
                            {{service.name}}
                        </md-option>
                    </md-select>
                </md-input-container>
                <br>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Name</label>
                    <input name="serviceName" ng-model="newItem.name" type="text" aria-label="Item Name" required pattern="^[a-zA-Z][a-zA-Z0-9]+" ng-pattern-restrict>
                    <span ng-show="createServiceForm.serviceName.$touched && createServiceForm.serviceName.$invalid">
                        Name has to start with a letter, and only
                        <br/>contain letters and numbers.
                        <br/>No spaces or special characters allowed.
                    </span>
                </md-input-container>
                <br>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Template Title</label>
                    <input ng-model="newItem.title" required/>
                </md-input-container>
                <br>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Description</label>
                    <textarea ng-model="newItem.description" />
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm>
                    <md-checkbox required  ng-model="newItem.termsAcceptance" aria-label="I have read and accept the Terms and Conditions"></md-checkbox>
                    I have read and accept the <a href="https://foodsecurity-tep.eo.esa.int/terms-condition" target="_blank">Terms and Conditions</a>
                </md-input-container>
            </div>
        </form>
    </md-dialog-content>
    <md-dialog-actions>
        <md-button ng-click="createTemplate()" ng-disabled="createServiceForm.$invalid" class="md-primary">Create</md-button>
        <md-button ng-click="closeDialog()" class="md-primary">Cancel</md-button>
    </md-dialog-actions>
    {{termsAcceptance}}
</md-dialog>
